# 프록시(Proxy), 포워딩(Forwarding), 리다이렉트(Redirect) 정리

헷갈렸다

---

## 1. 기본 정의

| 용어 | 역할 | 구현/예시 | 특징 |
|------|------|-----------|------|
| **프록시 (Proxy)** | 클라이언트를 대신해 요청 전달 | HTTP 프록시, SOCKS 프록시, SSH -D | - 클라이언트가 직접 서버에 연결하지 않고 프록시를 통해 요청 전달<br>- 다양한 트래픽 전달 가능<br>- 트래픽 캡슐화 가능 |
| **포워딩 (Forwarding)** | 트래픽을 지정된 목적지로 전달 | SSH Local/Remote Port Forwarding, NAT 포워딩 | - 특정 포트/호스트로 트래픽 흘림<br>- TCP/UDP 단위로 포워딩<br>- 포트포워딩 = 터널링 구현 방식 중 하나 |
| **리다이렉트 (Redirect)** | 요청을 다른 주소/포트로 바꿈 | HTTP 301/302, iptables NAT | - 클라이언트가 새 목적지로 직접 연결<br>- 서버 측에서 경로 변경 안내<br>- 트래픽 캡슐화 없음 |

---

## 2. 상세 비교

| 항목 | 프록시 | 포워딩 | 리다이렉트 |
|------|--------|--------|------------|
| **요청 처리 주체** | 프록시 서버가 대신 처리 | 목적지 서버가 처리 | 클라이언트가 새 목적지에 직접 요청 |
| **트래픽 캡슐화** | 가능 (예: SOCKS, SSH 터널) | TCP/UDP 캡슐화 가능 | 없음 |
| **사용 사례** | 보안, 트래픽 모니터링, 방화벽 우회 | 원격 접속, NAT 환경, SSH 터널 | 웹 URL 변경, 포트 변경, 로드밸런싱 |
| **보안성** | 클라이언트-프록시 구간 암호화 가능 | SSH 터널 등으로 암호화 가능 | 없음 |

---

## 3. SSH 터널링과의 관계

- SSH 터널링 = **포워딩 + 인증 + 암호화**
- **Local Port Forwarding** → 클라이언트가 로컬 포트로 접속하면 터널을 통해 서버로 전달
- **Dynamic Forwarding (SOCKS)** → SSH를 통한 프록시 역할 수행
- 포워딩은 TCP/UDP 단위로 캡슐화, 프록시는 범용적 트래픽 처리 가능

---

## 4. 프록시 종류

| 종류 | 주체 | 특징 |
|------|------|------|
| **Forward Proxy (정방향 프록시)** | 클라이언트 | - 클라이언트가 "나 대신 서버에 요청해줘" 요청<br>- 서버는 클라이언트 IP를 알지 못하고, 프록시 IP만 인식<br>- 주로 방화벽 우회, 캐싱, 보안 목적 |
| **Reverse Proxy (역방향 프록시)** | 서버 | - 서버가 "나 대신 클라이언트에게 응답해줘" 요청 처리<br>- 클라이언트는 프록시를 실제 서버로 인식<br>- 로드 밸런싱, SSL 종료, 캐싱, 보안 게이트웨이 목적 |

- 요약: **Forward = 클라이언트 중심, Reverse = 서버 중심**  
- “Reverse(역방향)”이라는 이름은 서버가 주체가 되어 클라이언트 요청을 대신 처리하기 때문

---

## 5. 핵심 요약

1. **프록시** = 중간자가 요청을 대신 전달  
2. **포워딩** = 트래픽 경로를 변경/전달 (터널링 구현 방식)  
3. **리다이렉트** = 클라이언트에게 새 목적지 알려 재접속 유도  
4. **Forward Proxy** = 클라이언트가 주체, 서버는 프록시 IP만 인식  
5. **Reverse Proxy** = 서버가 주체, 클라이언트는 프록시를 실제 서버로 인식

---

## 6. 다시 헷갈리네

`프록시 VS 포워딩` 
- 프록시는 중간자가 대신 해주는 것.
- 포워딩은 경로를 변경/전달하는 것.

둘이 비슷하게 느껴지지만, 프록시는 중간자의 역할이 강조됨(IP를 자기 것으로 하는 등). 반대로 포워딩은 요청은 그대로 주지만 그냥 경로만 바꿔 주는 것이다. (중간자의 역할이 거의 없음)

이러면 또

`포워딩 VS 리다이렉트`
- 포워딩은 경로를 변경/전달하는 것.
- 리다이렉트는 새로운 경로를 알려주는 것.

포워딩은 패킷과 요청을 경로만 바꿔서 그대로 전달하지만, 리다이렉트는 아예 변경될 곳을 클라이언트에게 알려준다. 즉 포워딩은 바꿔서 보내주는 것이고, 리다이렉트는 그냥 처음부터 다른곳으로 다시 가라 하는 것이다..
