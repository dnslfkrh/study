## NAT (Network Address Translation)

- 목적: 내부망 IP를 외부망 IP로 변환하여 외부와 통신 가능하게 함

- 동작 방식:
  - 내부망 -> 외부 공인 IP로 변환 (Outbound)
  - 외부에서 들어오는 응답은 공인 IP -> 내부 IP로 변환 (Inbound)

- 특징:
  - 내부망에서 인터넷 접속 시 사용
  - 클라이언트는 변환 과정을 알 필요가 없음

- 예시:
  - 가정용 공유기: 내부 IP -> 공인 IP
  - 사내망에서 인터넷 접속

## DNAT (Destination NAT)

- 목적: 들어오는 패킷의 목적지 IP/PORT를 변경하여 다른 서버로 전달

- 동작 방식:
  - 클라이언트가 특정 IP/포트로 요청 → NAT 장치가 다른 서버 IP/포트로 변경하여 전달
  - 클라이언트는 원래 목적지로 접속했다고 생각

- 특징:
  - 주로 외부에서 내부 서버로 서비스 제공 시 사용
  - 클라이언트에게 변경 사실은 숨김

- 예시:
  - DMZ 서버로 HTTP/HTTPS 요청 전달
  - SSH 포트 22를 내부 서버의 2222 포트로 매핑

## DNAT는 포워딩과 비슷해 보인다

DNAT는 들어오는 트래픽의 목적지 IP/PORT만 바꿔서 내부 서버로 전달하는 방식이다. 클라이언트는 원래 시도한 목적지로 접근했다고 생각하기 때문에, 요청 자체는 중간에서 처리되지 않고 그대로 전달된다. 따라서 프록시처럼 중간자가 대신 요청을 처리하는 게 아니고, 리다이렉트처럼 새 목적지를 알려줘서 재접속시키지도 않는다.

즉, DNAT는 포워딩의 한 형태로 볼 수 있고, 트래픽을 "숨은 경로 변경" 방식으로 전달하는 사례이다..
